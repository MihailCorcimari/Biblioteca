@model Biblioteca.Models.Reservation
@{
    ViewData["Title"] = "Detalhes da reserva";
}

<h1>Detalhes da reserva</h1>

<div>
    <dl class="row">
        <dt class="col-sm-2">Livro</dt>
        <dd class="col-sm-10">@Model.Book?.Title</dd>

        <dt class="col-sm-2">Leitor</dt>
        <dd class="col-sm-10">
            @Model.Reader?.FullName<br />
            <small class="text-muted">@Model.Reader?.ApplicationUser?.Email</small>
        </dd>

        <dt class="col-sm-2">Data de reserva</dt>
        <dd class="col-sm-10">@Model.ReservedAt.ToLocalTime().ToString("dd/MM/yyyy HH:mm")</dd>

        <dt class="col-sm-2">Data de início</dt>
        <dd class="col-sm-10">@Model.StartDate.ToString("dd/MM/yyyy")</dd>

        <dt class="col-sm-2">Data de fim</dt>
        <dd class="col-sm-10">@Model.EndDate?.ToString("dd/MM/yyyy")</dd>

        <dt class="col-sm-2">Estado</dt>
        <dd class="col-sm-10">@Html.DisplayFor(model => model.Status)</dd>

        <dt class="col-sm-2">Notas</dt>
        <dd class="col-sm-10">@Model.Notes</dd>
    </dl>
</div>

<div>
    @if (User.IsInRole(Biblioteca.Models.RoleNames.Administrator) || User.IsInRole(Biblioteca.Models.RoleNames.Staff))
    {
        <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-primary">Editar</a>
        <a asp-action="Index" class="btn btn-secondary ms-2">Voltar à lista</a>
    }
    else
    {
        <a asp-action="My" class="btn btn-secondary">Voltar às minhas reservas</a>
    }
</div>